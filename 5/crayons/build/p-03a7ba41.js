import{g as e,f as s}from"./p-c5706edf.js";const n=e=>!("isConnected"in e)||e.isConnected,o=(()=>{let e;return(...s)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,(e=>{for(let s of e.keys())e.set(s,e.get(s).filter(n))})(...s)}),2e3)}})();function a(){return function(e=document.body){const s=e.closest("[lang]");if(!s)return;let n=s.lang;return n?(-1!==n.indexOf("-")&&(n=n.split("-")[0]),-1!==n.indexOf("_")&&(n=n.split("_")[0]),n):void 0}()||function(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages&&window.navigator.languages.length>0?window.navigator.languages[0]:null;return e=e||window.navigator.language,void 0===e?"en":(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e)}()||"en"}function t({key:e,values:s,obj:n}){var o;const a=null!==(o=function(e,s={}){return e?null==e?void 0:e.split(".").reduce(((e,s)=>e?e[s]:void 0),s):""}(e,n))&&void 0!==o?o:e;return s?function(e,s){return Object.entries(s).reduce(((e,[s,n])=>{return e.replace(new RegExp(`{{[  ]*${s}[  ]*}}`,"gm"),String("function"==typeof(o=n)?o():o));var o}),e)}(a,s):a}const r=new class{constructor(){this.requests=new Map;const{state:n,onChange:t}=((n,a)=>{const t=((e,s=((e,s)=>e!==s))=>{let n=new Map(Object.entries(null!=e?e:{}));const o={dispose:[],get:[],set:[],reset:[]},a=()=>{n=new Map(Object.entries(null!=e?e:{})),o.reset.forEach((e=>e()))},t=e=>(o.get.forEach((s=>s(e))),n.get(e)),r=(e,a)=>{const t=n.get(e);s(a,t,e)&&(n.set(e,a),o.set.forEach((s=>s(e,a,t))))},c="undefined"==typeof Proxy?{}:new Proxy(e,{get:(e,s)=>t(s),ownKeys:()=>Array.from(n.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,s)=>n.has(s),set:(e,s,n)=>(r(s,n),!0)}),d=(e,s)=>(o[e].push(s),()=>{((e,s)=>{const n=e.indexOf(s);n>=0&&(e[n]=e[e.length-1],e.length--)})(o[e],s)});return{state:c,get:t,set:r,on:d,onChange:(s,n)=>{const o=d("set",((e,o)=>{e===s&&n(o)})),a=d("reset",(()=>n(e[s])));return()=>{o(),a()}},use:(...e)=>{const s=e.reduce(((e,s)=>(s.set&&e.push(d("set",s.set)),s.get&&e.push(d("get",s.get)),s.reset&&e.push(d("reset",s.reset)),s.dispose&&e.push(d("dispose",s.dispose)),e)),[]);return()=>s.forEach((e=>e()))},dispose:()=>{o.dispose.forEach((e=>e())),a()},reset:a,forceUpdate:e=>{const s=n.get(e);o.set.forEach((n=>n(e,s,s)))}}})(n,a);return t.use((()=>{if("function"!=typeof e)return{};const n=new Map;return{dispose:()=>n.clear(),get:s=>{const o=e();o&&((e,s,n)=>{const o=e.get(s);o?o.includes(n)||o.push(n):e.set(s,[n])})(n,s,o)},set:e=>{const a=n.get(e);a&&n.set(e,a.filter(s)),o(n)},reset:()=>{n.forEach((e=>e.forEach(s))),o(n)}}})()),t})({lang:"",globalStrings:null,customTranslations:{}});this.state=n,this.onChange=t,this.onChange("lang",(async e=>{this.fetchTranslations(e),await this.fetchDateLangModule(e)})),this.onChange("customTranslations",(async e=>{var s;const n=this.state.lang||a();this.state.globalStrings||await this.fetchTranslations(n);const o=(null===(s=e)||void 0===s?void 0:s[n])||{},t=Object.assign(Object.assign({},this.state.globalStrings),o);this.state.globalStrings=t})),"MutationObserver"in window&&new MutationObserver((async e=>{if("lang"===e[0].attributeName){const s=document.documentElement.getAttribute("lang");s!==e[0].oldValue&&(this.state.lang=s)}})).observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],attributeOldValue:!0}),this.initialize()}async initialize(){await Promise.all([this.fetchTranslations(),this.fetchDateLangModule()]).catch((e=>console.error(`Error occurred in intialising i18n lib ${e.message}`)))}setLang(e){this.state.lang=e}getLang(){return this.state.lang}async getDateLangModule(e){return await this.fetchDateLangModule(e||this.state.lang)}async fetchTranslations(e){const s=e||a();return this.state.lang=s,this.fetchDefaultTranslations(s).then((e=>{var n;const o=(null===(n=this.state.customTranslations)||void 0===n?void 0:n[s])||{},a=Object.assign(Object.assign({},e),o);return this.state.globalStrings=a,a}))}fetchDefaultTranslations(e){let s=this.requests.get(e);return s||(s=function(e){switch(e){case"../i18n/de.json":return __sc_import_crayons("./p-ccb6021a.js");case"../i18n/en.json":return __sc_import_crayons("./p-f9fb7815.js");default:return new Promise((function(s,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`../i18n/${e}.json`).then((e=>e.default)).then((e=>e)).catch((async()=>(console.warn(`Error loading config for lang: ${e} from pre-defined set. defaulting to en-US translation`),await this.fetchDefaultTranslations("en")))),this.requests.set(e,s)),s}async fetchDateLangModule(e){const s=e||a();let n=this.requests.get("date_"+s);if(!n){let e=s;"en"===e&&(e="en-US"),n=function(e){switch(e){case"../../../node_modules/date-fns/esm/locale/af/index.js":return __sc_import_crayons("./p-f9d2f52b.js");case"../../../node_modules/date-fns/esm/locale/ar/index.js":return __sc_import_crayons("./p-4879646b.js");case"../../../node_modules/date-fns/esm/locale/ar-DZ/index.js":return __sc_import_crayons("./p-4f410520.js");case"../../../node_modules/date-fns/esm/locale/ar-EG/index.js":return __sc_import_crayons("./p-dea85efc.js");case"../../../node_modules/date-fns/esm/locale/ar-MA/index.js":return __sc_import_crayons("./p-70d12b2f.js");case"../../../node_modules/date-fns/esm/locale/ar-SA/index.js":return __sc_import_crayons("./p-c328ec17.js");case"../../../node_modules/date-fns/esm/locale/ar-TN/index.js":return __sc_import_crayons("./p-1b3a7634.js");case"../../../node_modules/date-fns/esm/locale/az/index.js":return __sc_import_crayons("./p-2cde8d57.js");case"../../../node_modules/date-fns/esm/locale/be/index.js":return __sc_import_crayons("./p-931aae41.js");case"../../../node_modules/date-fns/esm/locale/bg/index.js":return __sc_import_crayons("./p-924d8982.js");case"../../../node_modules/date-fns/esm/locale/bn/index.js":return __sc_import_crayons("./p-e61f3bb3.js");case"../../../node_modules/date-fns/esm/locale/bs/index.js":return __sc_import_crayons("./p-8b71e7f0.js");case"../../../node_modules/date-fns/esm/locale/ca/index.js":return __sc_import_crayons("./p-acd36a3b.js");case"../../../node_modules/date-fns/esm/locale/cs/index.js":return __sc_import_crayons("./p-13dd0a66.js");case"../../../node_modules/date-fns/esm/locale/cy/index.js":return __sc_import_crayons("./p-1f0d3038.js");case"../../../node_modules/date-fns/esm/locale/da/index.js":return __sc_import_crayons("./p-f0666c70.js");case"../../../node_modules/date-fns/esm/locale/de/index.js":return __sc_import_crayons("./p-7966f5b6.js");case"../../../node_modules/date-fns/esm/locale/de-AT/index.js":return __sc_import_crayons("./p-ee1bdad1.js");case"../../../node_modules/date-fns/esm/locale/el/index.js":return __sc_import_crayons("./p-0fb04365.js");case"../../../node_modules/date-fns/esm/locale/en-AU/index.js":return __sc_import_crayons("./p-7d0821bd.js");case"../../../node_modules/date-fns/esm/locale/en-CA/index.js":return __sc_import_crayons("./p-200fa217.js");case"../../../node_modules/date-fns/esm/locale/en-GB/index.js":return __sc_import_crayons("./p-919ec84c.js");case"../../../node_modules/date-fns/esm/locale/en-IE/index.js":return __sc_import_crayons("./p-5d838bb3.js");case"../../../node_modules/date-fns/esm/locale/en-IN/index.js":return __sc_import_crayons("./p-b208e446.js");case"../../../node_modules/date-fns/esm/locale/en-NZ/index.js":return __sc_import_crayons("./p-42dd29c6.js");case"../../../node_modules/date-fns/esm/locale/en-US/index.js":return __sc_import_crayons("./p-325c5933.js");case"../../../node_modules/date-fns/esm/locale/en-ZA/index.js":return __sc_import_crayons("./p-ef69aec3.js");case"../../../node_modules/date-fns/esm/locale/eo/index.js":return __sc_import_crayons("./p-79292df1.js");case"../../../node_modules/date-fns/esm/locale/es/index.js":return __sc_import_crayons("./p-0f17b871.js");case"../../../node_modules/date-fns/esm/locale/et/index.js":return __sc_import_crayons("./p-b2cf2c69.js");case"../../../node_modules/date-fns/esm/locale/eu/index.js":return __sc_import_crayons("./p-8d4a6bf9.js");case"../../../node_modules/date-fns/esm/locale/fa-IR/index.js":return __sc_import_crayons("./p-c87d4a3c.js");case"../../../node_modules/date-fns/esm/locale/fi/index.js":return __sc_import_crayons("./p-7d408320.js");case"../../../node_modules/date-fns/esm/locale/fr/index.js":return __sc_import_crayons("./p-f0da6985.js");case"../../../node_modules/date-fns/esm/locale/fr-CA/index.js":return __sc_import_crayons("./p-64d88eaa.js");case"../../../node_modules/date-fns/esm/locale/fr-CH/index.js":return __sc_import_crayons("./p-d4c6e1dc.js");case"../../../node_modules/date-fns/esm/locale/fy/index.js":return __sc_import_crayons("./p-f7242548.js");case"../../../node_modules/date-fns/esm/locale/gd/index.js":return __sc_import_crayons("./p-687ce7d3.js");case"../../../node_modules/date-fns/esm/locale/gl/index.js":return __sc_import_crayons("./p-f689b48a.js");case"../../../node_modules/date-fns/esm/locale/gu/index.js":return __sc_import_crayons("./p-ce342f70.js");case"../../../node_modules/date-fns/esm/locale/he/index.js":return __sc_import_crayons("./p-88d3a148.js");case"../../../node_modules/date-fns/esm/locale/hi/index.js":return __sc_import_crayons("./p-421ef933.js");case"../../../node_modules/date-fns/esm/locale/hr/index.js":return __sc_import_crayons("./p-009162cf.js");case"../../../node_modules/date-fns/esm/locale/ht/index.js":return __sc_import_crayons("./p-58a566ac.js");case"../../../node_modules/date-fns/esm/locale/hu/index.js":return __sc_import_crayons("./p-f634fa40.js");case"../../../node_modules/date-fns/esm/locale/hy/index.js":return __sc_import_crayons("./p-c20e1529.js");case"../../../node_modules/date-fns/esm/locale/id/index.js":return __sc_import_crayons("./p-4038fd61.js");case"../../../node_modules/date-fns/esm/locale/is/index.js":return __sc_import_crayons("./p-c79015f5.js");case"../../../node_modules/date-fns/esm/locale/it/index.js":return __sc_import_crayons("./p-f8410bc0.js");case"../../../node_modules/date-fns/esm/locale/ja/index.js":return __sc_import_crayons("./p-2303425d.js");case"../../../node_modules/date-fns/esm/locale/ja-Hira/index.js":return __sc_import_crayons("./p-4ea25f4c.js");case"../../../node_modules/date-fns/esm/locale/ka/index.js":return __sc_import_crayons("./p-40702513.js");case"../../../node_modules/date-fns/esm/locale/kk/index.js":return __sc_import_crayons("./p-d53ff545.js");case"../../../node_modules/date-fns/esm/locale/km/index.js":return __sc_import_crayons("./p-8997d9ec.js");case"../../../node_modules/date-fns/esm/locale/kn/index.js":return __sc_import_crayons("./p-6cb2598c.js");case"../../../node_modules/date-fns/esm/locale/ko/index.js":return __sc_import_crayons("./p-daeb2d90.js");case"../../../node_modules/date-fns/esm/locale/lb/index.js":return __sc_import_crayons("./p-a9ac29d3.js");case"../../../node_modules/date-fns/esm/locale/lt/index.js":return __sc_import_crayons("./p-8996a612.js");case"../../../node_modules/date-fns/esm/locale/lv/index.js":return __sc_import_crayons("./p-f646d6e1.js");case"../../../node_modules/date-fns/esm/locale/mk/index.js":return __sc_import_crayons("./p-833bac36.js");case"../../../node_modules/date-fns/esm/locale/mn/index.js":return __sc_import_crayons("./p-89538093.js");case"../../../node_modules/date-fns/esm/locale/ms/index.js":return __sc_import_crayons("./p-7a2fba59.js");case"../../../node_modules/date-fns/esm/locale/mt/index.js":return __sc_import_crayons("./p-26f83dbc.js");case"../../../node_modules/date-fns/esm/locale/nb/index.js":return __sc_import_crayons("./p-cee7dcc8.js");case"../../../node_modules/date-fns/esm/locale/nl/index.js":return __sc_import_crayons("./p-219dbc1b.js");case"../../../node_modules/date-fns/esm/locale/nl-BE/index.js":return __sc_import_crayons("./p-255e6387.js");case"../../../node_modules/date-fns/esm/locale/nn/index.js":return __sc_import_crayons("./p-8467cac2.js");case"../../../node_modules/date-fns/esm/locale/pl/index.js":return __sc_import_crayons("./p-704d8cf2.js");case"../../../node_modules/date-fns/esm/locale/pt/index.js":return __sc_import_crayons("./p-b092120b.js");case"../../../node_modules/date-fns/esm/locale/pt-BR/index.js":return __sc_import_crayons("./p-da3480fb.js");case"../../../node_modules/date-fns/esm/locale/ro/index.js":return __sc_import_crayons("./p-a1f63360.js");case"../../../node_modules/date-fns/esm/locale/ru/index.js":return __sc_import_crayons("./p-0a4050b0.js");case"../../../node_modules/date-fns/esm/locale/sk/index.js":return __sc_import_crayons("./p-08f70d34.js");case"../../../node_modules/date-fns/esm/locale/sl/index.js":return __sc_import_crayons("./p-8aa37858.js");case"../../../node_modules/date-fns/esm/locale/sq/index.js":return __sc_import_crayons("./p-88ecf0e4.js");case"../../../node_modules/date-fns/esm/locale/sr/index.js":return __sc_import_crayons("./p-3a53101b.js");case"../../../node_modules/date-fns/esm/locale/sr-Latn/index.js":return __sc_import_crayons("./p-3e46c710.js");case"../../../node_modules/date-fns/esm/locale/sv/index.js":return __sc_import_crayons("./p-27ddf772.js");case"../../../node_modules/date-fns/esm/locale/ta/index.js":return __sc_import_crayons("./p-51b23529.js");case"../../../node_modules/date-fns/esm/locale/te/index.js":return __sc_import_crayons("./p-da558c5a.js");case"../../../node_modules/date-fns/esm/locale/th/index.js":return __sc_import_crayons("./p-f141cdcd.js");case"../../../node_modules/date-fns/esm/locale/tr/index.js":return __sc_import_crayons("./p-e61b4569.js");case"../../../node_modules/date-fns/esm/locale/ug/index.js":return __sc_import_crayons("./p-93d11a89.js");case"../../../node_modules/date-fns/esm/locale/uk/index.js":return __sc_import_crayons("./p-5d2580f0.js");case"../../../node_modules/date-fns/esm/locale/uz/index.js":return __sc_import_crayons("./p-0a5db85c.js");case"../../../node_modules/date-fns/esm/locale/uz-Cyrl/index.js":return __sc_import_crayons("./p-dd7e2241.js");case"../../../node_modules/date-fns/esm/locale/vi/index.js":return __sc_import_crayons("./p-542bab7b.js");case"../../../node_modules/date-fns/esm/locale/zh-CN/index.js":return __sc_import_crayons("./p-847a2727.js");case"../../../node_modules/date-fns/esm/locale/zh-HK/index.js":return __sc_import_crayons("./p-ae8cca33.js");case"../../../node_modules/date-fns/esm/locale/zh-TW/index.js":return __sc_import_crayons("./p-20dd2cf7.js");default:return new Promise((function(s,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`../../../node_modules/date-fns/esm/locale/${e}/index.js`).then((e=>e.default)).then((e=>e)).catch((async s=>(console.warn(`Error loading date lang module for : ${e} from date-fns set`,s),await this.fetchDateLangModule("en-US").catch((e=>(console.error(" Error in fetching default date lang module ",e.message),{})))))),this.requests.set("date_"+s,n)}return n}setTranslations(e){this.state.customTranslations=e}t(e="",s,n){var o;return null!==(o=t({key:e,values:s,obj:this.state.globalStrings,lang:this.state.lang,context:n}))&&void 0!==o?o:e}i18n({keyName:e=""}={}){return(s,n)=>{const o=this,{componentWillLoad:r}=s;s.componentWillLoad=async function(){o.state.globalStrings||await o.fetchTranslations(o.state.lang||a());let s=!0;return this[n]||(this[n]=t({key:e,values:null,obj:o.state.globalStrings,lang:o.state.lang,context:null}),s=!1),o.onChange("globalStrings",(async()=>{s||(this[n]=t({key:e,values:null,obj:o.state.globalStrings,lang:o.state.lang,context:null}))})),r&&r.call(this)}}}},c=r.i18n.bind(r);export{r as T,c as i}